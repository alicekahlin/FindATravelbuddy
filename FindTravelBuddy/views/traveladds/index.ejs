<html lang="en">
<%- include('../partials/head.ejs') %>

    <body>
        <%- include('../partials/navbar.ejs') %>
            <div class="container">
                <div class="card-traveladds">
                    <br>
                    <h2 class="card-title">All Trips
                    </h2>
                    <div class="traveladds content">
                        <% if(traveladds.length > 0){%>
                            <% traveladds.forEach(traveladd => { %>
                                <div class="add">
                                    <a class="single" href="/traveladds/<%= traveladd._id %>">
                                        <h3 class="title">
                                            <%= traveladd.title %>
                                        </h3>
                                        <p class="snippet">
                                            <%= traveladd.destination %>
                                        </p>
                                        <% if(user._id == traveladd.creatorId){ %>
                                            <p class="snippet">
                                                <%= traveladd.creatorName %> (me)</p>
                                            <% } else{ %>
                                                <p class="snippet">
                                                    <%= traveladd.creatorName %>
                                                </p>
                                                <% }%>
                                    </a>
                                </div>
                                <% }) %>
                                    <% } else { %>
                                        <p style="text-align: center;">No traveladds to display</p>
                                        <% } %>
                                            <br>
                                            <div class="col d-flex justify-content-center">
                                                <nav aria-label="Page navigation">
                                                    <ul class="pagination">
                                                        <% for(var i = 1; i <= pages; i++) { %>
                                                            <li class="page-item" id="?page=<%= i %>">
                                                                <a class="page-link" href="/traveladds?page=<%= i %>">
                                                                    <%= i %>
                                                                </a>
                                                            </li>
                                                            <% } %>
                                                    </ul>
                                                </nav>
                                            </div>

                                            <script type="text/javascript">
                                                const pageNumber = window.location.search;
                                                if (pageNumber != "") {
                                                    document.getElementById(pageNumber).setAttribute("class", "active");
                                                } else {
                                                    document.getElementById("?page=1").setAttribute("class", "active");
                                                }
                                            </script>
                    </div>
                </div>
                <%- include('../partials/footer.ejs') %>
    </body>

</html>